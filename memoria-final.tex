\documentclass[preprint]{elsarticle}
\usepackage[latin1]{inputenc}
\usepackage[spanish, es-tabla]{babel}
\selectlanguage{spanish}
%\usepackage[T1]{fontenc}
%\usepackage{textcomp}
\usepackage{graphicx}
\usepackage{color}
%\usepackage{setspace}
\usepackage{url}

\makeatletter
\def\ps@pprintTitle{%
 \let\@oddhead\@empty
 \let\@evenhead\@empty
 \def\@oddfoot{}%
 \let\@evenfoot\@oddfoot}
\makeatother


\begin{document}

\begin{frontmatter}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   TITLE   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{PETRA: Predicción del Estado del Tráfico usando un sistema de monitorización de bajo coste (SPIP2014-1437)}
% Antonio - Esto es por poner algo, hay que cambiarlo, claro

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   AUTHORS   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author{Pablo García Sánchez}
\ead{pablogarcia@ugr.es}
\address{Departamento de Arquitectura y Tecnología de Computadores.\\ ETSIIT - CITIC. University of Granada, Spain}

%\maketitle

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   ABSTRACT   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\begin{abstract} 
Esta memoria describe el proyecto PETRA (Predicción del Estado del Tráfico usando un sistema de monitorización de bajo coste), financiado por la Dirección General de Tráfico. Este proyecto propone el uso de dispositivos de bajo coste para monitorizar y rastrear el tráfico utilizando Bluetooth y Wifi, junto con la aplicación de distintas técnicas de Data Mining. Durante este proyecto se ha desarrollado un nuevo sistema de monitorización que ha sido aplicado para resolver problemas presentes en una Smart City, como la optimización de flujos de tráfico en viajes (Smart Traffic), y la mejora de seguridad o problemas energéticos dentro de un edificio.

El sistema registra el movimiento de personas y vehículos monitorizando el espacio radioeléctrico, detectado las señales WiFi y Bluetooth emitidos por los dispositivos personales de los usuarios, como los smartphones o los manos-libres. Se ha realizado un estudio en dos escenarios reales, es decir, con datos reales obtenidos por el sistema: uno relacionado con la movilidad de la gente (un edificio público); y un despliegue centrado en la monitorización de los vehículos (carreteras provinciales).

El análisis ha consistido en la aplicación de distintas técnicas de Data Mining para extraer conocimiento útil, métodos de predicción de tráfico para realizar predicciones precisas y análisis estadísticos para validar la fiabilidad del sistema (utilizando otras fuentes de datos).

Los resultados obtenidos muestran la viabilidad y utilidad del sistema, junto con algunas de sus múltiples aplicaciones para resolver distintos problemas. Finalmente, este proyecto ha supuesto la generación de conocimientos que hayan supuesto la apertura de nuevas líneas de investigación, y la creación de nuevos proyectos y colaboraciones empresariales en materia de I+D+i.
\end{abstract}

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   KEYWORDS   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\begin{keyword}
Smart traffic \sep Transit indicators \sep Traffic forecast \sep Mobility analysis
\end{keyword}


\end{frontmatter}

\newpage

\section*{Datos del proyecto}
\begin{itemize}
\item Código: SPIP2014-1437
\item Programa financiador: Ayudas a la I+D+i en materia de tráfico, movilidad y seguridad vial 2014.
\item Entidad financiadora: Dirección General de Tráfico. Ministerio del Interior.
\item Responsable: Pablo García Sánchez (pablogarcia@ugr.es)
\item Fecha inicio: 18/11/2014
\item Fecha fin: 14/10/2015
\item Cantidad subvencionada: 21450 euros
\end{itemize}

Investigadores participantes

\begin{itemize}
\item Pablo García Sánchez (Investigador Principal)
\item Antonio Fernández Ares
\item Paloma de las Cuevas Delgado
\item Pedro Ángel Castillo Valdivieso
\item María Isabel García Arenas
\item Jesús González Peñalver
\item Pedro García Fernández
\item Juan Julián Merelo Guervós
\item Gustavo Romero López
\end{itemize}

\newpage

\tableofcontents

\newpage

%-------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%   INTRODUCTION   %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-------------------------------------------------------------------------------


\section{Introducción}
\label{sec:intro}

Actualmente, la transformación de una ciudad a una Ciudad Inteligente (Smart City), con mayor rendimiento (ahorro de energía, tiempo de los ciudadanos, recursos y costes), es un proceso que debe basarse en tecnologías, métodos y sistemas potentes y confiables.

Para conseguir esto, un sistema de monitorización de la movilidad es uno de los sistemas más importantes, ya que los datos que proporciona pueden usarse para mejorar distintos servicios en la carretera, ciudad, o incluso dentro de edificios dentro de ella.

Los sistemas más comunes recolectan información del tráfico (mayormente paso de vehículos) utilizando varios tipos de dispositivos, como tubos neumáticos, detectores de espiras o Reconocimiento Óptico de Caracteres (Optical Character Recognition, OCR) \cite{rodrigue2013geography}. Sin embargo, la mayoría de esos sistemas no son capaces de identificar el mismo vehículo a lo largo de la red de carreteras. Aquellos que sí pueden hacerlo son muy costosos y por lo tanto suelen colocarse en puntos muy específicos de las carreteras.

Los gobiernos locales, regionales o nacionales pueden usar esos datos para la mejora en el mantenimiento de carreteras y servicios, por ejemplo, midiendo el deterioro de las carreteras basados en la afluencia de vehículos. Además, se pueden obtener otras estadísticas útiles, que pueden ayudar a predecir atascos de tráfico, por ejemplo. Esta información puede utilizarse también dentro de una ciudad, por ejemplo, para ajustar la sincronización entre semáforos o para definir el mejor sentido de cada carretera, o incluso para los usuarios finales (los conductores), que pueden beneficiarse optimizando sus planes de acuerdo al estado actual o futuro del flujo del tráfico. Esta es la razón por la que la información del tráfico tiene que ser confiable.

El proyecto PETRA (Predicción del Estado del Tráfico usando un sistema de monitorización de bajo coste), financiado por la Dirección General de Tráfico (DGT) tiene como objetivo principal la creación de un sistema de monitorización y predicción del tráfico, utilizando distintas fuentes de datos.

Durante este proyecto se ha desarrollado un sistema de monitorización capaz de recolectar datos de movilidad de usuarios y vehículos, y también capaz de realizar seguimiento utilizando una red de dispositivos (o nodos), conectados a un servidor central. Esto permite la construcción fácil de modelos de flujo de tráfico o grafos de movilidad. El sistema propuesto está formado por dispositivos de bajo coste, de alrededor de 100 euros cada uno, lo cual es otra ventaja respecto a los sistemas de monitorización más comunes, ya que el coste es un factor importante a la hora de desplegar estos dispositivos.

El dispositivo, que es una nueva versión del presentado en \cite{castillo2014_book_sipesca}, y que fue desarrollado en una convocatoria anterior de ayudas de la DGT (SINECA, número de expediente 0100DGT21185), se basa en un ordenador de placa única que monitoriza el espacio radioeléctrico, capturando señales Bluetooth (BT) y WiFi emitidas por otros dispositivos, como por ejemplo los smartphones o los manos libres de los vehículos. Estos dispositivos se detectan e identifican a partir de su número MAC (Media Access Control), el cual es único, y se almacena como evento de tráfico (o `paso').

Así, dependiendo de la posición del dispositivo de monitorización (nodo), se puede obtener información sobre desplazamiento de personas o vehículos. Para respetar la privacidad, así como la protección de los datos, la MAC está encriptada utilizando un proceso unidireccional antes de almacenarse, por lo que no se puede asociar el identificador almacenado con ninguna persona.

Otro de los objetivos de este proyecto es probar la confiabilidad y utilidad de este sistema, por lo que se han utilizado dos escenarios reales para demostrar su valor para resolver diferentes tipos de problema. Estos escenarios están centrados en la ciudad de Granada, donde se ha recolectado un gran conjunto real de datos. El primer escenario es un edificio de la Universidad de Granada, y ha sido usado como prueba de concepto. Un despliegue más ambicioso se realizó después colocando los dispositivos en la autovía entre Málaga y Granada.

En cada escenario se han colocado distintos números de dispositivos. La gran cantidad de datos se ha procesado utilizando técnicas de \textit{Big Data}, transformándolos o agregándolos, para poder realizar otros tipos de análisis. Se han aplicado distintos métodos, como Data Mining, Predicción de Series Temporales, matrices de Entrada/Salida o procedimientos estadísticos. El objetivo ha sido extraer información útil y alcanzar conclusiones claras que nos puedan llevar a mejorar el rendimiento en distintos aspectos en cada escenario, probando el valor de este sistema de monitorización como herramienta para mejorar distintos aspectos dentro de una ciudad inteligente (carreteras o edificios).

El uso de estos dispositivos puede enmarcarse dentro del paradigma de Internet de las Cosas (Internet of Things, IoT), ya que estamos integrando comunicaciones y tecnologías para identificación y seguimiento, junto con el uso de redes de sensores \cite{Atzori2010IoTSurvey}. 

El resto de la memoria es como sigue: primero se realiza una descripción detallada del trabajo desarrollado en la Sección \ref{sec:descdetallada}. A continuación se describe el grado de consecución de los objetivos (Sección \ref{subsec:gradoobjetivos}) y de los resultados alcanzados (Sección \ref{sec:resultadosalcanzados}), incluyendo las publicaciones científicas. El interés de los resultados y grado de innovación se presentan respectivamente en la sección \ref{section:interesdelosresultados} y \ref{sec:gradodeinnovacionque} respectivamente. Finalmente, se describe la difusión de los resultados (Sección \ref{sec:difusionresults}) y las conclusiones y trabajo futuro.
%----------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%   TRAFFIC in a HIGHWAY  %%%%%%%%%%%%%%%%%%%%%%%%%
%----------------------------------------------------------------------------

\section{Descripción detallada del trabajo desarrollado}
\label{sec:descdetallada}

Esta sección describe en detalle las tareas realizadas por los miembros del proyecto. Se ha divido en los distintos paquetes propuestos en la memoria solicitud, para poder cubrir todas las áreas del proyecto.

\subsection{Participación e implicación de los distintos investigadores en el proyecto}

Durante el desarrollo del proyecto se añadieron dos nuevos investigadores. Antonio Fernández Ares y Pedro García Fernández. El primero es un estudiante de doctorado recientemente añadido al Grupo de Investigación GeNeura, cuya futura tesis está directamente relacionada con los datos obtenidos en este proyecto. Ha colaborado en los paquetes 3 y 4, realizando la programación del software de monitorización. Por otro lado, el Doctor Pedro Fernández, del Departamento de Electrónica, ha aportado su experiencia a nivel hardware en el paquete 3. 

El resto de miembros del proyecto han colaborado en las distintas tareas que fueron asignadas en la memoria inicial.

\subsection{Coordinación del equipo en la ejecución del proyecto}

Los investigadores participantes se han involucrado en varias tareas, dependiendo principalmente del tipo de problema a resolver (desarrollo del hardware, infraestrcutura o predicción) y del tipo de datos a tratar (de flujos de tráfico, etc). Para gestionar estas colaboraciones se han utilizado herramientas libres, tanto para la implementación del software (control de versiones con Git), como para la escritura de artículos y documentos relacionados (Google Docs y GitHub).

Se han realizado reuniones semanales con todos los miembros del proyecto, dentro de las reuniones semanales del grupo GeNeura, para mostrar y discutir los avances. Estas reuniones son abiertas a cualquier miembro, por lo que en algunas ocasiones alumnos y profesores externos han aportado su opinión.



\subsection{Cumplimento de las fases, actividades y tareas}

A continuación se detallarán los distintos paquetes de trabajo, tareas realizadas y resultados obtenidos en cada uno de ellos. Además, se justifican cada una de las partidas de gastos del proyecto.

\subsubsection{Paquete 01: Coordinación}

En este paquete, liderado por el IP se han realizado las tareas de coordinación tales como organización de reuniones y control del proyecto. Para ello se han usado herramientas libres, como gestores de tickets y otros mecanismos de comunicación y desarrollo.

\textit{Justificación del presupuesto}
En este paquete se incluyen los desplazamientos a reuniones en la sede de la DGT (2 a Madrid y 1 a Málaga) por parte de tres investigadores del proyecto (Pablo García Sánchez, Antonio Fernández Ares y Paloma de las Cuevas).

\subsubsection{Paquete 02: Hardware}
\label{subsubsec:paquete02}
Este paquete ha sido el que más esfuerzo ha requerido, ya que ha implicado el montaje, diseño y programación de los dispositivos de monitorización. Se han desarrollado varios prototipos del sistema, comparando el rendimiento de distintos componentes Bluetooth y WiFi. A diferencia del proyecto anterior (SINECA) los nuevos dispositivos han sido diseñados y programados desde cero. Los resultados pueden verse a continuación.

El dispositivo de monitorización final está basado en \textit{Raspberry Pi}\footnote{\url{https://www.raspberrypi.org/}}, 
en concreto se ha optado por una placa Raspberry Pi 2 Model B (Figura \ref{fig:raspberry}), ya que cuenta con una mayor capacidad de cómputo paralelo que su predecesora puede suponer una optimización significativa del funcionamiento del dispositivo de captación.

Además de la Raspberry Pi que hace de centro de procesamiento, se han optado por los siguientes elementos hardware:
\begin{itemize}
\item Tarjeta de red Wifi
\item Tarjeta de red Bluetooth
\item Antenas de captación
\item Caja protectora estanca certificada.
\end{itemize}

%La elección de la tarjeta de red no ha sido trivial, pues debía cumplir varios requisitos: Era necesario que fuera compatible con el sistema operativo elegido, que fuera capaz de operar en modo monitor, lo que ha permitido la captura promiscua de paquetes (conocido como \textit{sniffering}). Además, según el emplazamiento del dispositivo, puede ser requerida una antena con características especiales (omnidireccional o direccional, con mayor o menor ganancia, integrada en el dispositivo o alejada varios metros) por lo que disponer de un sistema estándar de antena ha sido un requerimiento añadido. La tarjeta finalmente elegida fue una \textit{TP-Link TL-WN722N} que dispone de interfaz USB de conexión y conexión RP-SMA para la antena.

%La tarjeta Bluetooth elegida es una \textit{Conceptronic CBT40 NANO}  ya que es una de las más comunes en el mercado compatibles con Bluetooth 4.0 y de Clase 1. El alcance teórico es de 100 metros, con uno efectivo de 25-30 metros, lo cual ha sido un radio de acción más que suficiente para el proyecto.

La caja estanca empleada para albergar el dispositivo de monitorización cumple las certificaciones IP67 de protección frente a polvo y humedad y Clase II de aislamiento eléctrico. 


\begin{figure*}[htb] 
\centering
\includegraphics[width=10cm]{imgs/raspi.eps}
\caption{Raspberry Pi Model B utilizada en los dispositivos de monitorización.} 
\label{fig:raspberry} 
\end{figure*}

Como se puede apreciar en la Figura \ref{fig:sistema}, se han programado cinco partes bien diferenciadas a las que hemos etiquetado con un nombre, \textit{Raziel, Lilith, Abdiel, Ezequiel} y \textit{Anan}, que se relacionan entre ellas unidireccionalmente según el flujo de los datos. En el dispositivo se ejecutan Raziel y Lilith, que están implementados en Java y en PHP respectivamente. Ambas se ejecutan sobre el sistema operativo, llamado Horeb en este sistema. 
Ambas partes envían datos a Abdiel de forma independiente. Éste también está  implementado en PHP, y es el único que tiene acceso de escritura en la base de datos Alejandría gestionada por MySQL. 

\begin{figure*}[htb] 
\centering
\includegraphics[width=10cm]{imgs/mobywit.eps}
\caption{Esquema del sistema desarrollado.} 
\label{fig:sistema} 
\end{figure*}

%Las Raspberry Pi 2 Model B empleadas tienen un procesador ARM7 por lo cual es necesario instalar un sistema operativo que sea compatible con la arquitectura de dicho procesador. En este caso el Sistema Operativo elegido es Raspbian, distribución basada en Debian enfocada en la compatibilidad con Raspberry Pi. Hace uso de la versión 3.10.24+ del kernel de Linux y nos permite disponer de un entorno Linux completo en un sistema de placa única como es Raspberry.

%Las ventajas de emplear un sistema operativo completo son numerosas: administración remota, sistema de logs y cron nativos, repositorios de software, etc. Se incorporaron también las librerías necesarias para la ejecución del software, siendo destacadas las librerías JDK de Java, JSR para el Bluetooth, {\em aircraft} para la captura Wifi o {\em Sakis3G} para las comunicaciones mediante 3G.

Respecto al \textbf{software} desarrollado, llamado Raziel, es software integrado como demonio del sistema encargado de la detección de pasos de dispositivos (correspondientes a personas o vehículos) mediante la captura de paquetes Wifi y la localización de dispositivos Bluetooth cercanos. Estas capturas son procesadas enviadas a un servidor (Abdiel) periódicamente. El software ha sido desarrollado en Java siguiendo un metodología de programación orientada a eventos y multihebrada.

Se ha implementado de forma modular cada una de las funcionalidades del software de forma que operen de manera autónoma. Las distintas hebras y subsistemas se comunicarán por medio de memoria compartida. Entre las tareas del software se encuentran funciones para el mantenimiento de sí mismo, ya que cabe la posibilidad de que el sistema no disponga de administración remota (dependiendo de la infraestructura de red donde sea colocado).

De modo que, por ejemplo, dependiendo de la red, el software es capaz de establecer mecanismos para la conexión con el exterior mediante Ethernet, Wifi o 3G. En el caso de la conexión Wifi, la misma tarjeta de red es empleada tanto para la captura de paquetes como para establecer dicha conexión. Esto es posible gracias a la virtualización de dos interfaces de red al mismo tiempo.

Cada sistema de captación (Bluetooth y Wifi) tiene un funcionamiento similar compuesto por cuatro elementos:

\begin{itemize}
\item Hebra de control
\item Escaneador
\item Monitor
\item Difusor
\end{itemize}

%La \textbf{hebra de control} es la encargada de iniciar las interfaces y comunicaciones con el dispositivo físico, así como estar a la escucha de las peticiones del sistema, como por ejemplo, para detenerse.
%El \textbf{escaneador} es el encargado implementar el \textit{listener} que obedece al evento de captura de paquete \textit{wifiRaw} o la detección de dispositivos Bluetooth. Éste realiza la interpretación de los octetos conseguidos por la interfaz de red, es decir, todos los bits capturados como trama.

%Si el octeto obedece a un formato conocido e interpretable se genera una ocurrencia de dispositivo que es enviado al monitor mediante memoria compartida. Esta ocurrencia de dispositivo incluye la hora en la que ha sido detectado, la intensidad de la señal (solo en Wifi) así como un hash de la MAC del dispositivo que ha realizado el envío, así como el fabricante, gracias a que los primeros 24 bits de la MAC son otorgados por el IEEE y pueden usarse para identificar univocamente al fabricante del dispositivo que genera la MAC. 

%En Wifi esta información se obtiene gracias al protocolo {\em radiotap}, que permite conseguir información de la propia tarjeta sobre el paquete capturado. De esta forma se consigue la intensidad de la señal con la que ha sido capturado el paquete y la cabecera 802.11 que incluye las MACs. En ningún momento, se procesa ni accede a los octetos capturados pertenecientes al cuerpo de la trama.
%En Bluetooth, se obedece al evento de dispositivo visible, es decir, actualmente solo podemos detectar dispositivos que se encuentran visibles de forma pública. Sin embargo, gracias al protocolo Bluetooth podemos saber que tipo de dispositivo es el que hemos detectado gracias a los bits de tipo de dispositivo y servicios ofrecidos.
%El \textbf{monitor} gestiona la cola de ocurrencias detectadas. Esta hebra es la encargada de determinar si un dispositivo es descubierto por primera vez o ya ha sido detectado anteriormente a lo largo del tiempo. Actualiza la lista de dispositivos detectados recientemente con la información de la ocurrencia del nuevo. De forma periódica comprueba dicha lista, buscando dispositivos que no hayan sido detectados transcurrido un tiempo prudencial. Los dispositivos que no han sido localizados en dicho periodo de tiempo, son empaquetados como pasos de dispositivos y enviados como memoria compartida al difusor. Un paso de dispositivo está compuesto por dos instantes de tiempo que indican la primera y última vez que se localizó al dispositivo, las intensidades de las señales en esas dos ocasiones y un hash de la MAC de dicho dispositivo.
%El \textbf{difusor}, manda periódicamente al servidor, mediante una petición REST, los datos comprimidos de los pasos de los dispositivos.

%Dado que el sistema puede ser implantado en una arquitectura de red compleja, como puede ser la perteneciente a un organismo público, nos hemos visto en la problemática de comunicar los dispositivos con el servidor de forma que no suponga una vulnerabilidad en la red o en redes que no dispongan de salida a Internet (las de ámbito local).
%Para ello se puede habilitar una Raspberry Pi con Horeb como sistema operativo, que haría uso del sistema \textit{Lilith} para hacer la transmisión del tráfico entre las otras Raspberry y el Servidor.
%De esta forma Lilith sirve como pasarela entre las dos redes, la local y la red global que comunica al servidor.

Puede consultarse más información sobre el hardware y el software de monitorización en el manuscrito de difusión adjunto a esta memoria (concretamente, en la Sección 3).

\textit{Justificación del presupuesto} Este ha sido el paquete que más recursos ha necesitado, incluyendo los materiales para montar los dispositivos (tarjetas Raspberry Pi, tarjetas SD para cargar el software, o cajas estancas), junto con el diseño de piezas específicas y montaje. Además, parte de la partida de fungibles ha sido aplicada también en el desarrollo del hardware (tenazas, material de ferretería, etc.).

\subsubsection{Paquete 03: Infraestructura}
\label{subsubsec:paquete03}
Esta subsección describe la programación y diseño de la infraestructura desarrollada. Las partes de infraestructura (mencionadas brevemente en la descripción del paquete anterior) pueden consultarse en la Figura \ref{fig:sistema}, y se denominan Abdiel, Alejandría, Ezequiel y Annan.



Abdiel (\textbf{servidor de captura de datos}) es el software que provee los servicios de la API REST de comunicación empleados por Raziel. Está desarrollado en PHP considerando especialmente la atomicidad de las operaciones.
%Entre otros servicios, proporciona la conexión y desconexión al sistema del software de captación, el sistema de privilegios, el servicio de actualización del software y el almacenamiento de pasos de dispositivos al sistema. Este servicio es el encargado de almacenar los datos de los pasos, por tanto, se encarga de descomprimirlos, procesarlos y mandarlos en lotes a la base de datos (Alejandría).
% -------------------------------------------------------------------

Alejandría es la \textbf{base de datos} donde se almacena la información de los pasos capturada en los dispositivos. Está basada en MySQL haciendo uso de diversos mecanismos de optimización tales como particionado de tablas e índices, que permiten el acceso a la información en tiempo constante. Esta base de datos es privada y no es difundida en la nube, ya que contiene los pasos individuales.
%Dispone de procedimientos optimizados para el cálculo del número total de pasos captados en ventanas temporales para los dispositivos de captación, así como para el cálculo de re-ocurrencia de dispositivos (detectados) en distintos nodos.
Estos procedimientos son invocados por el software \textit{Ezequiel} para recolectar los datos y publicarlos en la nube.

Ezequiel (Publicación en la nube) es el \textbf{software para publicación en la nube} encargado del acceso a la base datos, consulta y generación de resúmenes de datos, aplicación de algoritmos de predicción y minería de datos y difusión los resultados en la nube \textit{Anan}.
Actualmente realiza predicción en tiempo real empleando tanto métodos basados en regresión lineal como en máquinas de vector soporte.

Anan es el nombre otorgado a \textbf{la nube} basada en la tecnología de Microsoft Azure, en la que se almacenan los datos con el fin de darle difusión a los mismos. En Anan los datos son almacenados en tablas \textit{BigTable NoSQL}. Esta tecnología provee una base de datos geolocalizada (empleada en otras tecnologías de Google como Google Maps).
Anan se encarga también de proveer gráficas interactivas y mapas del estado histórico, actual y predicho de los distintos nodos.


Una primera prueba de concepto se realizó en la ETS. de Ingeniería y Telecomunicación (ETSIIT) de la Universidad de Granada. El edificio se estudió como una prueba de concepto para el dispositivo descrito en el paquete anterior. Con el fin de controlar el flujo de personas, tres dispositivos se han colocado en los tres accesos al edificio, que se puede ver en la figura \ref{fig:etsiit_map}. Este estudio fue una prueba de concepto antes de desplegar los nodos en las carreteras de la DGT (como se verá más adelante).



\begin{figure}[!ht]
	\begin{center}
		\includegraphics[height=4cm]{imgs/etsiit_nodes.eps}
		\caption{Localización de los dispositivos en la ETSIIT.}
		\label{fig:etsiit_map}
	\end{center}
\end{figure}

Dado que los dispositivos pueden detectar señales WIFI y BT, tanto del personal de la universidad y los estudiantes, dos de ellos se ha colocado muy cerca del acceso principal tratando de distinguir el personal (62) de los estudiantes (52). La puerta del parking (42) sólo puede ser utilizado por el personal. Se han generado diversos diagramas (como el mostrado en la Figura \ref{fig:etsiit_io}) para extraer distintas conclusiones.

%Los dispositivos han estado grabando datos en distintos días. Con estos datos se ha calculado el histograma origen-destino que se puede ver en la figura \ref{fig:etsiit_io}. Un examen cuidadoso de esta figura nos permite extraer algunas conclusiones.


\begin{figure}[!ht]
	\begin{center}
		\includegraphics[width=\textwidth]{imgs/etsiit_graph_origin-destination-histogram.eps}
		\caption{Histograma de Origen/Destino de las personas en la ETSIIT}
		\label{fig:etsiit_io}
	\end{center}
\end{figure}

%\begin{itemize}
%\item La mayoría de las personas son estudiantes y que acceden al edificio por la puerta de los estudiantes (sensor 52 en la figura \ref{fig:etsiit_map}).
%\item Los profesores y el personal administrativo parecen dividir su forma de entrar y salir. Utilizan el aparcamiento (sensor 42) tanto como la puerta del edificio principal (sensor 62).
%\item Muchos estudiantes salen por el edificio principal (62), después de una supuesta visita a un profesor o un administrativo (ya que están en el mismo edificio).
%\item La gente que entra por la puerta principal (62) casi nunca sale por la misma puerta. Puede deberse a que la mayoría son estudiantes y salen por la puerta 52, más cercana a sus clases.
%\end{itemize}

Se puede consultar más información sobre este prototipo en la Sección 4 del manuscrito de difusión adjuntado a esta memoria.

%Con algunos sensores adicionales el flujo de personas podría ser estudiado de una manera más optima, ya que con los tres utilizados muchas personas no pueden ser interpretadas correctamente como un tipo de visitante concreto. El lugar más interesante para un nuevo sensor está en la puerta del edificio de aulas en el norte en el mapa.

%La información recogida puede ser útil para la gestión del edificio, por ejemplo, para determinar cuando debe iniciarse la calefacción, cuantos estudiantes hay en clase o si hay suficientes asientos libres en la biblioteca. Muchas de estas preguntas necesitan un poco más de tiempo para obtener los datos suficientes y contestarlas correctamente.

Tras esta prueba de concepto, los dispositivos se colocaron en distintas localizaciones propuestas por el Centro de Gestión del Tráfico del Sureste. Estas localizaciones fueron elegidas porque son las más cercanas a las espiras de la DGT, y además cuentan con conexión a Internet para el envío de datos a nuestro servidor y a la nube. Se crearon dos grupos de nodos: un grupo en la provincia de Granada (1010,1020 y 1030) y otro en la provincia de Málaga (1040, 1050 y 1060).

La Figura \ref{fig:nodosDGT} muestra los identificadores de esos dispositivos y su emplazamiento.

\begin{figure}[htb]
	\begin{center}
		\includegraphics[scale=0.4]{imgs/nodos_dgt.eps}
		\caption{Localización de los dispositivos en la carretera.}
	\label{fig:nodosDGT}
	\end{center}
\end{figure}

\begin{table}
\centering
\resizebox{12cm}{!}{
\begin{tabular}{|c|c|p{5cm}|c|c|}
\hline
ID   & Provincia & Localización & Latitud & Longitud \\ \hline
1010 & Granada  & A-44 P.K. 118+300 sentido creciente (enlace A-44 P.K. 118+300 con A-92 P.K. 241+000) & 37.241668  & -3.6526 \\ \hline
1020 & Granada  & A-92 P.K. 294+300 sentido creciente  & 37.318763 & -3.137978 \\ \hline
1030 & Granada  & A-92 P.K. 344+950, sentido creciente & 37.141298 & -2.710871 \\ \hline
1040 & Málaga  & A-7  P.K. 241+800, sentido decreciente (enlace A-7 P.K. 241+800 con A-45 P.K. 142+400) &  36.757427 & -4.426879 \\ \hline
1050 & Málaga  & A-45 P.K. 121+700, sentido decreciente & 36.910454 & -4.444769 \\ \hline
1060 & Granada & A-92 P.K. 177+900, sentido decreciente (enlace A-92 con A-92M) & 37.136209 & -4.282619 \\ \hline
\end{tabular}
}
\caption{Localización de los dispositivos (P.K. = Punto Kilométrico).}
\label{tab:nodosDGT}
\end{table}


\textit{Justificación del presupuesto:} En este paquete se ha utilizado el presupuesto destinado a ``Otros gastos'' como el uso de computación en nube (en Loggly o Microsoft Azure). Además, parte de la partida de ``Aparatos y equipos'' que estaba destinada a la colocación de los dispositivos (como la instalación de los dispositivos en la ETSIIT). Sin embargo, y como se describe en la sección \ref{subsubsec:presupuesto}  parte del presupuesto dedicado a la colocación de dispositivos que en la memoria de solicitud se incluyó en el apartado ``Aparatos y equipos'' no se ha gastado, debido a que la DGT y la empresa UTE-ACISA, ofrecieron la colocación de dispositivos de forma gratuita.

\subsubsection{Paquete 04: Predicción}
\label{subsubsec:paquete04}
En este paquete se han realizado distintas tareas de predicción y validación de los datos.


Inicialmente se compararon distintas métricas para obtener una correlación correcta entre el número de dispositivos detectado y el número de real detectado por las espiras de la DGT

\begin{itemize}
\item {\em Ratio total}: ratio entre el número total de vehículos detectado por la DGT y el número de vehículos detectados por nuestros dispositivos.
\item {\em Ratio medio}: ya la granularidad máxima de los datos de la DGT es de 15 minutos la suma de todos los ratios en esas secciones ha sido dividida por el número total de secciones para calcular la media.
\item {\em Ratio mediana}: en lugar del ratio medio, este usa la mediana de todos los ratios de las secciones de 15 minutos.
\item {\em Ratio medio por cuarto de hora}: esta métrica calcula un vector de ratios separado por cuartos de hora, en lugar de un ratio total para todos los datos. Se ha calculado un ratio medio por cada cuarto de hora durante cada día.
\item {\em Ratio mediana por cuarto de hora}: como en la métrica anterior, este utiliza un vector de ratios por cuarto de hora, pero cada elemento es calculado usando la mediana en lugar de la media.
\end{itemize}


La Tabla \ref{tab:ratiosDGT} muestra los ratios obtenidos. Para simplificar el análisis de datos y la discusión sólo se muestran los datos de un nodo (1010). Los resultados muestran que nuestro dispositivo detecta un vehículo por aproximadamente 19 detectados por la DGT, según los ratios Total, Media y Mediana. Sin embargo, los mejores resultados en el MAE y MAPE se logran obteniendo coeficientes de división por cuarto de hora. Por lo tanto, para el resto del trabajo se ha optado por esta relación, ya que tenemos que hacer frente a los valores absolutos para realizar análisis de predicción.



\begin{table}[htb]
\centering
\resizebox{12cm}{!}{
\begin{tabular}{|l|l|l|l|l|l|}
\hline
			 &RATIO	  & MAE    &   MAPE   & MSE    & RMSE \\
 \hline
Ratio Total  & 17.230 &   60.373 & 36.265 & \textbf{7371.579}  & \textbf{85.857} \\
Ratio Media  & 20.792 &   72.323 & 43.443 & 11216.070 & 105.905 \\
Ratio Mediana & 18.2 &    62.454  & 37.515 & 8060.136  & 89.778 \\
Ratio Medio por cuarto de hora &  Depende de la hora  & 66.791 & 40.120 & 9890.978 & 99.453 \\
Ratio Mediana por cuarto de hora & Depende de la hora  & \textbf{58.326} & \textbf{35.035} & 7617.613 & 87.278 \\
\hline

\end{tabular}
}
\caption{Diferentes ratios entre la los datos recolectados por la DGT y por el sistema en el nodo 1010.}
\label{tab:ratiosDGT}
\end{table}


La Figura \ref{fig:dgtRatios} muestra el número de dispositivos detectados del nodo 1010, aplicando el ratio de corrección elegida. Como se puede observar, existe cierta correlación.

\begin{figure}[htb]
	\begin{center}
		\includegraphics[scale=0.22]{imgs/petra_graph_DGT-Mobywit-mended.eps}
		\caption{Dispositivos detectados por la DGT y detectados por nuestro dispositivo (nodo 1010) aplicando el ratio de corrección (mediana por cuarto de hora). Nota: no hay datos de la DGT disponibles durante el 14 de octubre.}
	\label{fig:dgtRatios}
	\end{center}
\end{figure}

La captura de datos sobre el tráfico en una autopista no sólo sirve para la descripción de la situación actual, sino también para la previsión de las condiciones futuras. En este sentido, el número de coches que han pasado por un punto dado en un momento dado puede ser considerado como una serie temporal, permitiendo el uso de herramientas automáticas para llevar a cabo la predicción.

Para este trabajo, cuatro métodos (tres predictores de series de tiempo ampliamente utilizados, y un método de control) se han utilizado para, predecir automáticamente el número de coches que pasarán en un próximo período. %Estos métodos se incluyen en el paquete de previsión \cite{Hyndman08automatictime}  del programa de R \cite{R:Bloomfield:2014}, y son los siguientes:




\begin{itemize}

\item {\em Exponential smoothing state space model (ETS)~\cite{ETS:2008}}%: Representa un conjunto de métodos que descomponen el tiempo de la serie en tres características diferentes: error, tendencia y estacional, modelando cada uno con una ecuación dada. Los valores pronosticados se obtienen sumando las ecuaciones anteriores por adición o multiplicación. La función correspondiente en el paquete de predicción construye los diferentes modelos incluidos en el paquete de ETS, y selecciona el mejor según Criterio de Información de Akaike (AIC)\cite{Akaike1973}.


\item {\em ARIMA~\cite{BoxJenk}}%: Este famoso método integra modelos autorregresivos (AR) y promedio móvil (MA) en un ciclo iterativo de tres etapas. Las fases de cada ciclo consisten en: la identificación de la serie temporal, la estimación de los parámetros del modelo, y la verificación del modelo construido. En pocas palabras, cada modelo se define como la suma de $p+g$ términos. Los primeros $p$ términos se definen por valores pasados $p$, cualquiera de ellos multiplicado por un coeficiente; mientras que los últimos $q$ términos representan las medias móviles, también multiplicada por sus propios coeficientes.


\item {\em Theta~\cite{Assima2000}}%: Este método de pronóstico univariante se basa en la modificación de la curvatura local de la serie temporal, después de haber aplicado una segunda diferencia con los datos. Se descompone la serie temporal original en varias series modificados, que son extrapolados por separado, para combinarse con el fin de proporcionar a la previsión.

\item {\em Promedio}%: Este es el método de control. Los valores futuros se calculan como la media de los anteriores.

\end{itemize}



%Los datos utilizados para los experimentos son los proporcionados por el nodo de 1010 a partir del 12-Oct-2015, 00:00 horas, y terminando el 31-oct-2015, 23:45 horas, es decir, la totalidad de tres semanas menos un día. Como los datos se agregan cada 15 minutos, esto significa que la serie de tiempo se compone de $ 20 (dias) * 24 (horas) * 4 (cuartos) = 1920 $ valores.

La Tabla \ref{tab:forecasting} muestra los valores de las medidas usadas calculados sobre $576$ valores, las correspondientes a los últimos 6 días (es decir, $30\% $ de los datos). %El horizonte se ha establecido en 1, de modo que, con el fin de predecir un momento dado todos los datos anteriores conocidos, estos han sido utilizados para construir y entrenar a los modelos. Después, se predicen el siguiente valor. De esta manera, el problema se ha enfrentado como una simulación de lo que podría suceder en un sistema continuo en el que se reciben nuevos datos reales cada 15 minutos, por lo que los modelos de predicción podrían también adaptarse continuamente.



Como muestran los resultados %, ETS, ARIMA y Theta se comportan claramente mejor que el método de control. Las diferencias entre los tres métodos considerados son casi inexistentes. En cualquier caso, 
ETS produce los valores más bajos en cuatro de las medidas que se están utilizando. Por estas razones, se podría probablemente considerar como el mejor candidato para ser elegido como el método preferido para pronosticar este tipo de series de tiempo. La Figura \ref{fig:forecasted-values} representa los valores pronosticados por ETS comparándolos con los esperados.




\begin{figure}[!ht]
    \begin{center}
        \includegraphics[width=12cm]{imgs/forecasting-PETRA-1011.eps}
        \caption{Número esperado vs número predicho de coches en el nodo de 1011, según los registros de nuestro dispositivo. Los valores predichos se han obtenido utilizando el Exponential smoothing state space model (ETS). }
        \label{fig:forecasted-values}
    \end{center}
\end{figure}

\begin{table}[htb]
\centering
\resizebox{8cm}{!}{
\begin{tabular}{|c|c|c|c|c|}
\hline
Medida vs Método &Promedio &ETS &ARIMA &Theta\\
\hline
%%%ME &$0.6631$ & $0.0059$ & $0.0043$ & $\textbf{0.0034}$\\
MAE &$4.4611$ & $\textbf{2.7106}$ & $2.7409$ & $2.7126$\\
MAPE &$4.7226$ & $\textbf{1.0128}$ & $1.0822$ & $1.0599$\\
MSE &$28.5711$ & $\textbf{13.0194}$ & $13.2775$ & $13.0421$\\
RMSE &$5.3452$ & $\textbf{3.6082}$ & $3.6438$ & $3.6114$\\

\hline
\end{tabular}
}
\caption{Valores de error obtenidos usando la predicción con los datos registrados por el sistema. Las medidas se calculan utilizando las diferencias entre los valores esperados y los obtenidos desde 25-Oct-2015, 00:00 horas al 31-oct-2105, 23:45 horas, estableciendo el horizonte a 1. Los mejores valores se resaltan en negrita.}
\label{tab:forecasting}
\end{table}

Por último, una vez que la previsión con los datos del sistema se ha llevado a cabo, el número de coches que han sido detectados por la DGT se puede utilizar con los ratios calculados anteriormente (véase la Tabla \ref{tab:ratiosDGT}). %Concretamente, la Tabla \ref{tab:errorForecastingRatio} muestra el error calculado al aplicar el Ratio Mediana por cuarto de hora. Como puede verse, el método ETS destaca de nuevo por su capacidad de producir los errores más bajos. 

%\begin{table}[htb]
%\centering
%\resizebox{8cm}{!}{
%\begin{tabular}{|c|c|c|c|c|}
%\hline
%Medida vs Método &Promedio &ETS &ARIMA &Theta\\
% \hline
%MAE   & $72.162$ & $\textbf{42.789}$ & $43.335$ & $43.158$ \\
%MAPE  & $27.961$ & $\textbf{27.609}$ & $27.961$ & $27.847$ \\
%MSE   & $7040.303$ & $\textbf{3472.145}$ & $3569.706$ & $3517.506$ \\
%RMSE  & $83.906$ & $\textbf{58.925}$  &  $59.747$ & $59.309$ \\
%\hline


%\end{tabular}
%}

%\caption{Valores de error obtenidos usando las diferencias entre los datos reales de la DGT con los datos registrados por el sistema usando el ratio de Mediana por cuarto de hora. El periodo va desde 25-Oct-2015, 00:00 horas al 31-oct-2105, 23:45 horas, estableciendo el horizonte a 1. Los mejores valores se resaltan en negrita.}

%\label{tab:errorForecastingRatio}
%\end{table}

\begin{figure}[!ht]
    \begin{center}
        \includegraphics[width=12cm]{imgs/petra_graph_ts-forecasting.eps}
        \caption{Número de coches en el nodo 1011 detectados por la DGT vs la predicha a partir de los registros de nuestro sistema usando la conversión por ratio Mediana por cuarto de hora. Los valores pronosticados son proporcionados por métodos Promedio, ETS, ARIMA y Theta.}
        \label{fig:forecasted-values-ratio}
    \end{center}
\end{figure}

Y finalmente, de acuerdo con los resultados obtenidos, la realización de predicción de tráfico a partir de datos proporcionados por nuestro dispositivo parece ser una tarea asequible para los métodos tradicionales (es decir, ETS o ARIMA). Por otra parte, las proporciones calculadas a partir de los datos registrados por la DGT permiten convertir los valores pronosticados a sus equivalentes, que representan el número de vehículos en un lugar determinado. Por lo tanto, la utilización conjunta de estas dos técnicas hace posible aproximar estrechamente el número de coches que han pasado 15 minutos más tarde por la posición del nodo; por lo que este proceso puede repetirse nuevamente cada 15 minutos para que los modelos de predicción pueden ser mejorados y adaptados a las nuevas condiciones de la carretera.


%***CORRIGE**
%Para ello, lo primero que hicimos fue diseñar una encuesta que nos permita saber qué hábitos de uso tienen los usuarios de teléfonos móviles para ver si todos los dispositivos móviles podrían ser captados monitorizando la tecnología BT. Esta encuesta fue publicada de forma abierta y difundida a través de redes sociales y correo electrónico. Los puntos más importantes de esta encuesta pueden resumirse como:
%El rango de edad más frecuente de los informantes es el que abarca entre los 20 y los 50 años formando un total de 528 respuestas de una muestra de 601. Este rango concuerda en lo esperado puesto que los principales usuarios de teléfonos o dispositivos relacionados con la tecnología que nosotros detectamos están dentro de ese rango.
%Del total de la muestra, el 25,46\% no son conductores habituales
%Del resto de la muestra, que sí son conductores habituales, más de la mitad, un 52,64\% no utilizan habitualmente la tecnología BlueTooth (BT) mientras conduces y sólo el 22,56\% lo utilizan siempre, lo que deja un rango demasiado grande de conductores sin monitorizar.
%Si tomamos sólo los conductores habituales, el 50,2\% no saben o no tienen BT integrado en su vehículo, y el resto de la muestra sí lo tiene ya sea integrado o no, lo que nos indica que aunque para nosotros, que nos movemos en el mundo tecnológico y de la investigación la tecnología BT es algo conocido, no lo es para el ciudadano de a pie, puesto que perderíamos un 49,8\% de dispositivos móviles si  utilizamos sólo la monitorización de las señales BT.
%Un 75,21\% de la muestra de conductores habituales apagan la señal BT mientras que no lo están utilizando, sin embargo, sólo el 31,11\% apagan la señal Wifi mientras que no lo están utilizando. Este dato nos indica que aunque el usuario conozca la tecnología y la use, la gran mayoría de usuarios lo llevan desconectado. Sin embargo, si incluimos en el proyecto la tecnología Wifi y tenemos en cuenta que el 69,89\% de la gente la llevan permanentemente activada, el rango de datos capturados es mejor. Es por eso que hemos incluido la captación de señales Wifi dentro del desarrollo normal del proyecto además de las de BT que era lo inicialmente previsto.



\subsubsection{Paquete 05: Difusión}

En este paquete el IP ha sido el encargado de realizar la coordinación de la difusión de resultados, tanto en la publicación de artículos científicos (ver sección \ref{subsec:publicacionescientificas}) como otros tipos de difusión. Por ejemplo, las noticias relacionadas con el proyecto se han publicado en la página web \url{https://proyectopetra.wordpress.com/} o en la cuenta de Twitter \url{https://twitter.com/proyectoPETRA}, así como en distintos eventos de divulgación científica, como la Noche de los Investigadores (consultar sección \ref{subsec:otrosmedios}).

\textit{Justificación del presupuesto:} Los gastos asociados a la difusión han sido la inscripción y asistencia a congresos (como las JCE, por Antonio Fernández Ares), y reuniones de investigación (BusinessTIC en Málaga y Metaheuristics in the Large Nottingham, ambas por Pablo García Sánchez y Juan Julián Merelo Guervós).

\subsection{Dificultades y problemas surgidos}

En esta subsección se describen los problemas encontrados durante la realización del proyecto, tanto a nivel de coordinación y gestión como los problemas de origen tecnológico. Los principales surgidos durante el proyecto han venido dados principalmente por la naturaleza de los dispositivos de captación, al tener que estar colocados en zonas de difícil acceso. Estos problemas han sido resueltos utilizando distintas técnicas que se describen a continuación.

\subsubsection{Administración del presupuesto}
\label{subsubsec:presupuesto}
A la hora de realizar la solicitud del proyecto se destinó una partida del presupuesto al montaje de los dispositivos, suponiendo que la empresa de mantenimiento de carreteras UTE-ACISA cobraría por mano de obra y acceso a sus sistemas. Sin embargo, nos encontramos que de la colocación de los dispositivos, y el acceso a las redes de datos nos fue ofrecido de forma gratuita por parte de Acisa, por lo que esa parte del presupuesto no se ha gastado. Esto también se debió a que la colocación se realizó en la parte final del proyecto, por lo que no hubo tiempo de solicitar la modificación del presupuesto.

En esta partida también había destinada una cantidad para la fabricación de piezas por parte del Centro de Investigación Científica de la UGR. Sin embargo, y debido a la inexperiencia del IP, no se tuvo en cuenta que el coste de fabricación para miembros de la UGR tiene un descuento del 80\%. Estas dos modificaciones (costes de colocación y fabricación de piezas) han hecho que exista un remanente del proyecto de 6408,2 euros.

Además, se han realizado cambios en una de las partidas del presupuesto. Se han transferido 473,31 euros del apartado ``Otros gastos'' al de ``Viajes y dietas''. Este dinero, que en principio estaba destinado a la compra de material bibliográfico, se ha invertido en distintos viajes a reuniones con otros grupos de investigación y asistencias a congresos.

\subsubsection{Problemas relacionados con el hardware}

El uso de un tarjeta Raspberry Pi Model 2 y el sistema operativo Raspbian ha aportado numerosas ventajas mencionadas en secciones anteriores.
Sin embargo ha sido necesario realizar algunas modificaciones al SO para optimizarlo al problema de captación del proyecto: el almacenamiento físico de las Raspberry Pi está basado en tarjetas SD (microSD en Model B+ o superiores). Si bien las velocidades que alcanzan las tarjetas de Clase 10 es más que suficiente para que funcione un sistema operativo, existe un problema documentado de corrupción 
de las tarjetas SD ante fallos eléctricos tales como perdida de alimentación o subidas de tensión.

Al estar los dispositivos utilizados en este proyecto ubicados en zonas de complicado acceso frecuente, tener un sistema operativo 
tan vulnerable a fallos (corrupciones) supuso un problema.

Es por ello que se ha modificó el SO de modo que funcione como un Sistema Operativo de Solo Lectura. De esta forma, se minimizaron las escrituras en el medio y se garantiza que, en todos los arranques del dispositivo, se disponía de una versión estable no corrupta de los archivos necesarios para su inicio.

Sin embargo, un sistema operativo Linux requiere de numerosos directorios donde poder escribir para el correcto funcionamiento del mismo. Esto se resolvió con particiones \textit{tmpfs} montadas en memoria volátil. Esto aportó numerosas ventajas, ya que, al ser mucho más rápida la memoria volátil que la física, las operaciones son generalmente mucho más rápidas. Sin embargo, al ser memoria volátil, los datos no persisten después de los reinicios del sistema. Además, al estar alojada en la memoria RAM de la Raspberry Pi, se pierde capacidad máxima de dicha memoria. Se sacrificó por tanto al almacenamiento a lo largo del tiempo y parte de la memoria RAM con el fin de conseguir un sistema operativo más robusto ante fallos, corrupciones de datos y más eficiente en general. 

Además, debido al uso intensivo del hardware USB (las tarjetas Wifi y Bluetooth), era necesario indicarle al SO que no podía suspender los dispositivos USB para ahorrar energía. Esta medida que en Sistemas Operativos de propósito general es muy útil y supone un ahorro en el consumo bastante significativo, en nuestro sistema suponía la perdida de captación de datos en los momentos en los que la tarjeta estuviese suspendida, por lo que tuvo que modificar las opciones de arranque. 

Debido a que las Raspberry Pi no incorporan una pila para el reloj interno, era necesario solicitar la fecha y hora mediante un servidor NTP con el fin de garantizar la correcta sincronización todos los dispositivos de captación. Esto se consiguió gracias al acceso a la red de las casetas de la DGT y gestionadas por la empresa UTE-ACISA.


\subsubsection{Detección de errores en el código}

El código fuente del sistema (dispositivo, servidor y sistema de procesamiento) tiene más de 25.000 líneas de código. Debido a que es difícil simular su uso real, se realizaron distintas pruebas de concepto para depurar.

\subsubsection{Comunicación con el servidor}

Una de las características más importantes del sistema es la comunicación con el servidor para el envío de datos y la sincronización de los relojes de los dispositivos. Sin esta sincronización los datos recogidos podrían estar erróneos, por lo que se añadieron mecanismos en el código para evitar este problema, como el uso de relojes hardware o un servidor NTP específico.

\subsection{Planteamiento metodológico}

Como se ha mencionado anteriormente, el haber colocado los dispositivos en la etapa final del proyecto ha supuesto algunos problemas de gestión de recursos. Para nuevas convocatorias, quizás habría sido una mejor opción colocar los dispositivos al principio del proyecto e ir actualizándolos con cada nueva mejora, en vez de colocar la versión final y testeada. Esto habría supuesto más gasto en viajes y dietas, pero habría permitido tener mayor número de datos, y aunque en principio fueran erróneos y no pudieran usarse, con las distintas actualizaciones del software se podría haber mejorado iterativamente el sistema.

\subsection{Protección de datos y seguridad}

Para cumplir con la LOPD, los datos recogidos por el sistema (MAC de los dispositivos) no se guardan en la base de datos. En lugar de eso se realiza una función Hash que genera un nuevo identificador para anonimizar los datos. Es decir, sabemos que un dispositivo X ha pasado por cierto dispositivo en cierta hora, pero nunca podremos saber la MAC real del usuario.

En lo relativo a la seguridad de red, los dispositivos colocados están aislados del resto de elementos de la red de la empresa UTE-Acisa, y su comunicación con el servidor se realiza utilizando unas credenciales VPN que cifra toda la comunicación.







%----------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%   OBJETIVOS  %%%%%%%%%%%%%%%%%%%%%%%%%
%----------------------------------------------------------------------------
\section{Grado de consecución de los objetivos propuestos y otros posibles objetivos alcanzados}
\label{subsec:gradoobjetivos}
Una vez explicada la descripción detallada de todos los trabajos realizados se resumen los objetivos alcanzados respecto a los objetivos que se presentaron en la solicitud.

\subsection{Objetivo 1: Obtención de datos de tráfico más precisos y completos.}

Para ello se propuso el aumento del área de recolección de datos de tráfico para análisis y predicción (distintas ciudades y vías) colocándolos además cerca de fuentes de información conocidas. Los datos mostrados en la sección \ref{subsubsec:paquete04} demuestran el grado de error obtenido en la monitorización usando nuestros dispositivos respecto a los datos de la DGT. Se han propuesto distintos tipos de ratio para extrapolación de resultados y se ha decidido optar por un ratio basado en medianas por tiempo.


\subsection{Objetivo 2: Aumento de las fuentes de datos para obtención de datos más fiables} 

Se propuso usar otras fuentes, como los aforadores oficiales de la DGT o datos públicos, como Google Traffic y la mejora en el sistema de monitorización de los dispositivos a colocar (sensores wifi, NFC o BT) para mejorar la precisión. Una de los grandes resultados de este proyecto ha sido el desarrollo y programación de un nuevo sistema de monitorización completamente desde cero, habiendo permitido cubrir este objetivo, al haber añadido la posibilidad de monitorizar datos WiFi. Además, el uso de encuestas,  el haber añadido nuevas fuentes de datos en carretera, y su comparación con datos de espiras proporcionados por la DGT, los datos de monitorización y predicción han podido validarse.

\subsection{Objetivo 3: Predicción del tráfico de forma más precisa}

Usando las nuevas fuentes de datos anteriormente mencionadas, se ha realizado un estudio de distintos métodos de predicción de series temporales. Se han utilizado distintas técnicas de predicción como ETS, ARIMA y Theta. Estas técnicas se han aplicado tanto sobre los datos reales de la DGT, como sobre los datos obtenidos por nuestro sistema, mostrando la posibilidad de predecir a 15 minutos la situación del tráfico de forma precisa.

\subsection{Objetivo 4: Facilitar el acceso a los resultados}
Los resultados y datasets están disponibles de forma abierta en el repositorio Github del proyecto \footnote{\url{https://github.com/proyectopetra}}, permitiendo a otros investigadores (no sólo de las administraciones, sino a cualquier usuario) extraer información relevante a partir de  los datos obtenidos, promoviendo el Open Data. Se han promovido además, distintos Hackathones que han permitido a la comunidad científica colaborar en la mejora de este proyecto.

\subsection{Otros objetivos alcanzados}
A pesar de no haberse planteado en la memoria de solicitud, podemos considerar que se han alcanzado otros objetivos, como la creación de sinergias con otras empresas y grupos de investigación (consultar sección \ref{subsec:nuevosproyectos} y \ref{subsec:proyectosycolaboraciones}). Además, durante la duración del proyecto se han avanzado en otras líneas del grupo de investigación relacionadas con el Data Mining o la optimización (ver sección \ref{subsec:otrosresultados}).









%----------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%   DESCRIPCION DE RESULTADOS  %%%%%%%%%%%%%%%%%%%%%%%%%
%----------------------------------------------------------------------------

\section{Descripción global de los resultados alcanzados y significación de los mismos en las correspondientes áreas de conocimiento}
\label{sec:resultadosalcanzados}
Esta sección describe los resultados obtenidos durante la realización del proyecto.

\subsection{Publicaciones científicas}
\label{subsec:publicacionescientificas}

Durante el desarrollo del proyecto se han realizado varias publicaciones científicas. Las publicaciones en congresos en el área de ingeniería informática y las ciencias de la computación también requieren el envío de un artículo completo y revisión por pares, al igual que en revistas, así que se han añadido en esta sección \cite{MOBYWIT15,Odeh15Fuzzy,GarciaSanchez15JCE,Romero15ITISE,Castillo15ITISE,RIVAS15MAEB,Castillo15MAEB}.

En estas publicaciones se ha descrito el sistema desarrollado \cite{GarciaSanchez15JCE}, experimentación en predicción con datos recogidos \cite{Romero15ITISE,Castillo15ITISE,RIVAS15MAEB,Castillo15MAEB}.

La publicación más relevante es \cite{MOBYWIT15}, ya que es la que describe el proyecto PETRA, se encuentra actualmente en proceso de revisión por pares en la revista Future Generation Computer Systems, con índice de calidad IF = 2.786, posición 8 de 102 Q1 en la rama Computer Science, Theory and Methods. Este trabajo describe el sistema de captación realizado, sus elementos y sus posibles aplicaciones. Los resultados experimentales mostrados en la sección \ref{subsubsec:paquete04}, descritos con más profundidad en ese trabajo, han permitido obtener información sobre el ratio real de vehículos detectados por el sistema.

Otro artículo de revista \cite{IGI15} está en revisión en la revista ``International Journal of Conceptual Structures and Smart Applications'', dentro del Special Issue ``Special Issue On: Smart Applications in Smart Cities''.

Además de estas publicaciones, la sección \ref{subsec:otrosresultados} describe otras publicaciones derivadas durante la realización del proyecto, en temáticas como el Data Mining, el Machine Learning, o la optimización.
 

\subsection{Participación en congresos, seminarios o jornadas, para presentar los resultados del proyecto}	

Se ha asistido a varios congresos donde se han presentado los resultados de varias de las publicaciones mencionadas. En el Congreso ITISE (International Work Conference on Time Series Analysis) se presentaron los trabajos \cite{Romero15ITISE,Castillo15ITISE}. La descripción del sistema desarrollado fue presentado en las Jornadas de Computación Empotrada, celebradas en Córdoba \cite{GarciaSanchez15JCE}.

Otros medios de difusión, de carácter divulgativo como la Noche de los Investigadores, se mencionan más adelante en la sección \ref{subsec:otrosmedios}.

\subsection{Generación de conocimientos que supongan un avance importante en el estado del arte}

Los principales conocimientos obtenidos pueden dividirse en dos grandes campos: conocimientos a nivel Ingeniería de Computadores (relacionados con el hardware y software del sistema) y a nivel de Ciencias Informáticas (aplicación de algoritmos a grandes conjuntos de datos). En el primero cabe destacar el uso de ordenadores de baja potencia, como el Raspberry Pi y la aplicación de distintas técnicas de optimización en este tipo de dispositivos. En el segudno bloque podemos destacar la aplicación de operaciones sobre grandes cantidades de datos y gestión y administración de instancias en Cloud Computing.

\subsection{Generación de conocimientos que hayan supuesto la apertura de nuevas líneas de investigación}

La prueba de concepto que se realizó en la ETS Ingeniería informática y Telecomunicación ha servido para abrir una nueva línea de investigación en el grupo, el {\em geomárketing}. El geomárketing se basa en el estudio espacial del comportamiento para la ayuda a la toma de decisiones empresariales. Esta nueva línea permite la optimización de costes/beneficios, un mayor conocimiento del mercado deseado y la posibilidad de identificar puntos calientes, determinar áreas de influencia o diseño de rutas.

\subsection{Tesis doctorales}

Los resultados de este proyecto han servido para impulsar la siguiente tesis:
\begin{itemize}
\item Título: Sistema Inteligente de captación, análisis y predicción de movilidad basado en técnicas de soft computing
\item Autor: Antonio Fernández Ares
\item Directores: Pedro Ángel Castillo Valdivieso y María Isabel García Arenas
\item Fecha de lectura prevista: Junio de 2016
\end{itemize}

Concretamente, el artículo \cite{MOBYWIT15} es el que le permitirá leer su tesis en 2016, según la normativa de la Universidad de Granada. Además de esta tesis, se el 23 de Julio de 2015 se leyó el siguiente Trabajo Fin de Grado
(Grado en Ingeniería Electrónica Industrial)

\begin{itemize}
\item Título: Sistema para Reconocimiento de Dispositivos en Tiempo Real
\item Autora: María Tíscar Rodríguez Ortiz
\item Director: Pedro García Fernández
\item Departamento: Electrónica y Tecnología de Computadores
\end{itemize}

\subsection{Nuevos productos, servicios o protocolos}

Una versión modificada del dispositivo desarrollado, al que hemos denominado MOBIWIT, se ha convertido en un producto base para futuros proyectos, como puede verse en las secciones \ref{subsec:nuevosproyectos} y \ref{subsec:proyectosycolaboraciones}.

\subsection{Participación en nuevos proyectos (contratos) de I+D}
\label{subsec:nuevosproyectos}
Dentro de la nueva línea de investigación sobre geomárketing, descrita anteriormente, ha surgido el contrato de investigación ``TDAs con conectividad 3G en GranadaSound'', con un importe 3891.68 Euros. Las empresas firmantes fueron ``Smart and Leisure Mobile Technologies, S.L'' y la Fundación General Universidad de Granada-Empresa. La fecha de realización fue desde el 15/9/2015 hasta 15/10/2015. El proyecto ha sido dirigido por Juan Julián Merelo y María Isabel García Arenas, con la participación del IP de este proyecto y del investigador Antonio Fernández-Ares.

\subsection{Nuevas patentes, modelos de utilidad, prototipos o licencias}

Aunque no se ha desarrollado aún ninguna, está en trámite el desarrollo de una patente para el dispositivo desarrollado y descrito en la sección \ref{subsubsec:paquete02}.

\subsection{Otros resultados}
\label{subsec:otrosresultados}

Durante el desarrollo del proyecto distintas técnicas de Data Mining, Machine Learning, Cloud Computing y Optimización relacionadas con el proyecto han sido aplicadas a otros tipos de problemas. Las referencias \cite{BotsMAEB15,GarciaOrtega15MADEevostar,FernandezAres15BotsEvostar,FernandezAres15Cosecivi,GarciaSanchez15CIG} muestran distintas publicaciones relacionadas con la generación automática de IAs. También se han realizado distintos estudios relacionados con el Cloud Computing \cite{Garcia15ASOCO,Merelo15geccoCompanion} o la comparativa de métodos de optimización \cite{Rico15IWANN} y la seguridad \cite{delasCuevas2015CC}. Todas las referencias anteriores cuentan con la mención al proyecto en los agradecimientos y han sido publicadas en conferencias nacionales e internacionales con revisión por pares, dos de ellas siendo publicadas en dos revistas con índice JCR en Q1 \cite{delasCuevas2015CC,Garcia15ASOCO}.

\subsection{Referentes teóricos y metodológicos de especial interés}
La sección \ref{subsec:ambitodeoriginalidad} describe el ámbito de originalidad de la propuesta, comparándola con otros trabajos del estado del arte, pero además proporciona una serie de referencias que se han utilizado como base para el desarrollo del proyecto.

\subsection{Riesgo científico}

Debido a que este proyecto entra dentro de la rama de la ingeniería de computadores no se puede considerar que haya habido más riesgo científico que fallos en la metodología, por ejemplo, obteniendo resultados erróneos. Sin embargo, el poder haber podido comparar los datos captados con los reales, y viendo que existe correlación medible entre ellos nos permite descartar esto.

%\subsection{Novedad de las conclusiones y resultados alcanzados}
%***TERMINA***
%\subsection{Contribución de los resultados al avance de la ciencia-técnica}
%***TERMINA***
	




\section{Interés de los resultados para el entorno socio-económico}
\label{section:interesdelosresultados}

Esta sección describe otros proyectos derivados, interés por otros grupos de investigación o del sector empresarial que han surgido a raíz de este proyecto.

\subsection{Proyectos y colaboraciones empresariales}
\label{subsec:proyectosycolaboraciones}
Esta sub-sección es de especial interés, ya que partiendo de la difusión de resultados en eventos, como la ``Jornada de Smart Cities y Movilidad'', han surgido distintas oportunidades de participación en distintos tipos de proyectos. Por ejemplo, la temática del proyecto fue utilizada en el ``H2020 Face2Face'' en el ICT Proposers Day 2015, organizado por ICT Proposers Day (ICT 2015 - Innovate, Connect, Transform) y la Red EEN (Lisboa, Portugal). Esto ha supuesto un incremento de la capacidad de liderazgo en H2020 y la creación de consorcios españoles para nuevos proyectos en H2020, ya que el grupo está dirigiendo una propuesta dentro del ``Fast Track to Innovation Pilot'', junto con las empresas Evozon (Rumanía), UXMobile (España) y Sweden Conectivity (Suecia). 




\subsection{Incremento del número de proyectos en los que participa su Grupo de Investigación}

Se ha producido un aumento del volumen de fondos recibidos por su Grupo de Investigación (sin incluir los de la DGT al proyecto), gracias a los resultados dentro del programa financiador a grupos de la junta de Andalucía.

Además, se concurrió al Programa de Ayudas GENIL Para Realización De Actividades Por Grupos De Investigación Interdisciplinares (RAGII-2015) para formar el grupo interdisciplinar llamado ``Gestión de la movilidad en smart cities mediante técnicas de geomárketing''.



El objeto del grupo interdisciplinar formado se centra en la investigación en el área de la 
gestión de la movilidad, internet de las cosas y smart cities.
A continuación se detalla el listado de grupos y miembros que se integran en el Grupo 
Interdisciplinar:
\begin{itemize}
\item PAIDI TIC024 - Software Libre Para Optimización, Búsqueda y Aprendizaje 
(GeNeura)
\item PAIDI TIC164 - Especificación, diseño y evolución de software (GEDES)
\item PAIDI TIC117 - Circuitos y Sistemas de Procesamiento de la Información (CASIP)
\item PAIDI FQM150 - MODELOS PROBABILISTICOS APLICADOS A CIENCIAS SOCIALES 
\item PAIDI RNM357 - Laboratorio de Urbanismo y Ordenación del Territorio
\end{itemize}





\subsection{Ampliación de la red de socios internacionales}

Se ha realizado la asistencia a reunión ``Metaheuristics in the Large'' organizada por la Universidad de Nottingham (29 y 30 de abril de 2015), donde se presentaron las distintas técnicas de predicción y optimización en nube usadas en este proyecto. Se inicia la colaboración con el Doctor Jerry Swan.
 
Estancia de Alexander Lyubchenko, de la Omsk State Transport University (OSTU), Rusia. 1 de septiembre de 2015 al 30 de junio de 2016. Su investigación durante este periodo se centra en la monitorización de personas usando ondas de radio y modelos de predicción.

Finalmente, el grupo lidera la propuesta de proyecto H2020 descrito en la sección \ref{subsec:proyectosycolaboraciones}.

Todas estas actividades han mejorado el posicionamiento de su Grupo de Investigación dentro de la red de socios internacionales y la mejora de la calidad y nivel tecnológico del Grupo de Investigación así como la colaboración con nuevos grupos de investigación internacionales.
	
\subsection{Formación del personal especializado en I+D+i}

Este proyecto ha permitido una formación del personal especializado en I+D+i, principalmente para el IP, Pablo García Sánchez, que se ha enfrentado por primera vez a la dirección de un proyecto de investigación. Además, ha permitido el aumento del número de personas dedicadas a I+D+i dentro del Grupo de Investigación, facilitando la incorporación de miembros de otros departamentos (como el de Electrónica), así como la captación/ retención de personal especialmente cualificado. 

Además, este proyecto ha supuesto un incremento de la capacidad científico-tecnológica, prestigio y posición competitiva del Grupo de Investigación, estableciendo una linea de investigación que ha recibido interés por parte de distintas empresas y organismos públicos (DGT, Universidad de Málaga y Ayuntamiento de Granada).

Se ha permitido identificar nuevos mercados/áreas de investigación (como el marketing y la monitorización de personas en lugares públicos), así como una mejora en la internacionalización del Grupo de Investigación (con una futura propuesta H2020) y la firma de contratos con empresas.





%----------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%   GRADO DE INNOVACION %%%%%%%%%%%%%%%%%%%%%%%%%
%----------------------------------------------------------------------------

\section{Grado de innovación que se ha conseguido con la investigación}
\label{sec:gradodeinnovacionque}
\subsection{Aprendizaje de nuevos conocimientos y técnicas}

Durante el desarrollo del proyecto los distintos investigadores del grupo GeNeura han adquirido una serie de destrezas en distintos ámbitos:

\subsubsection{Gestión y coordinación} Al ser el primer proyecto de dirigido por el IP, el haber tenido que coordinar y dirigir un equipo investigador, además una serie de recursos, ha supuesto la mejora en las destrezas como investigador senior, habiendo supuesto una mejora en la experiencia coordinadora que será muy útil de cara a futuros proyectos.
\subsubsection{Desarrollo en sistemas de tiempo real y dispositivos empotrados} El uso de la tarjeta Raspberry Pi ha supuesto una serie de avances en los conocimientos de Sistemas Operativos y programación concurrente en los investigadores que trabajaban en el paquete 2. Se ha profundizado en el uso y optimización de sistemas operativos en entornos volátiles y en la coordinación y mecanismos de sincronización en software en tiempo real.
\subsubsection{Despliegue y computación en Nube} El haber tratado con una infraestructura distribuida, con distintos sistemas de procesamiento en los dispositivos y en la Nube (Microsoft Azure y Google App Engine) ha incrementado el conocimiento de estas tecnologías por parte de los investigadores. Esto permitirá el uso de estas infraestructuras en otras líneas de investigación en las que el grupo participa.
\subsubsection{Análisis y predicción} Se han realizado estudios con distintas técnicas de análisis de datos (como MSE, MFSE, etc.), así como técnicas de predicción (Mean, Arima, Theta, etc).
\subsubsection{Visualización y representación en Big-Data} A la hora de estudiar y representar grandes cantidades de datos se ha tenido que lidiar con diferentes programas de visualización y análisis de datos, como R o Weka. Las figuras presentadas en esta memoria (y en los manuscritos de difusión adjuntos) se han realizado utilizando estos programas.

\subsection{Ámbito de originalidad}
\label{subsec:ambitodeoriginalidad}
Existen distintas tecnologías usadas para recolectar datos y obtener información del estado de las carreteras. Las tecnologías de monitorización del tráfico pueden clasificarse como \textit{intrusivas}, instaladas en el pavimento, y \textit{no-intrusivas}, sin contacto con la carretera, causando un efecto mínimo en el flujo de tráfico \cite{martin2003detector}. 

Como se ha indicado en la introducción, las principales tecnologías incluyen tubos neumáticos, espiras inductivas y sistemas OCR, entre otros \cite{rodrigue2013geography}.

Los tubos neumáticos se colocan encima del carril para detectar vehículos mediante el cambio de presión generado cuando un vehículo pasan por ellos. Una espira inductiva es un cable empotrado dentro de la carretera, normalmente formando un cuadrado. Se envía una corriente eléctrica al cable y cuando una superficie de metal con un área mínima pasa por encima se envía un pulso que se detecta. El principal problema de estos dos sistemas es que son incapaces de detectar el vehículo específico detectado por el sensor. Así que, a diferencia de nuestro sistema, no se pueden calcular matrices de entrada/salida, sólo el tipo y cantidad de los vehículos. Esto impide, por ejemplo, detectar pasos repetitivos del mismo vehículo. Debido a su alto coste de instalación y mantenimiento no es posible instalarlo en todas las carreteras. Esta es la razón por la que suelen verse en carreteras principales o puntos de especial interés.

Por último, la tecnología de reconocimiento automático ha experimentado un aumento de la
los últimos años debido a su capacidad para detectar vehículos individuales sin depender
de los sistemas a bordo de vehículos. La detección de imágenes de vídeo es un buen ejemplo; en este caso se usa una
región de la carretera para grabar los datos de tráfico, por ejemplo, detectando las matrículas. Además, estos sistemas se pueden
utilizar para la detección automática de incidentes en la carretera, siendo esa es la principal
ventaja sobre los sistemas de información anteriores. Sin embargo, la fiabilidad del sistema podría
no ser óptima, ya que el clima puede limitar la precisión. Por otra parte, estos sistemas son
muy caros comparados con los descritos anteriormente \cite{skszek2001state}.
Además, la Agencia de Protección de Datos considera el número de matrícula del coche
como datos personales. por lo que se requiere el consentimiento del usuario para que pueda almacenarse.


Existen varias empresas que trabajan en el campo de información de tráfico. Algunas de las más relevantes son:

\begin{itemize}
\item Bit Carrier \cite{mendez2011system, Bitcarrier}: Dispone de un sistema de gestión de tráfico en función de BT para contar a las personas y las rutas comerciales. Su tecnología se desplegó en las autopistas gestionadas por Abertis para el control del flujo de tráfico y monitorización. Actualmente, cuenta con una red de 150 dispositivos en Cataluña (España) capaz de rastrear 200000 personas cada día.
\item Trafficnow \cite{Trafficnow}: Ofrece un centro de control de flujo de tráfico para las ciudades pequeñas. Se requiere una red de sensores de BT.
\item Traffax Inc \cite{TraffaxInc}: Es una empresa que también ha utilizado BT para el cálculo de matrices de origen/destino y el tiempo de transporte.
\item Savari Networks \cite{SavariNetworks}: Ofrece el producto comercial StreetWAVE para la vigilancia del tráfico en tiempo real.
\item TrafficCast \cite{TrafficCast}: Han desarrollado modelos predictivos en diferentes ciudades basados en diferentes tecnologías, como cámaras de vídeo, dispositivos BT y las etiquetas RFID incluidas en los vehículos que querían monitorizar.
\end{itemize}


El tráfico ha sido muy explotado como campo de investigación, y se ha centrado principalmente en la previsión de los futuros flujos considerando la información actual como una Serie Temporal.
El pronóstico de estos flujos en cualquier sistema de transporte juega un papel importante, ya sea para el alivio de la congestión urbana, o para el ajuste de control de tráfico y sistemas de guía. El objetivo es crear un sistema de transporte inteligente (ITS), que dependa en gran medida de la capacidad de predecir las condiciones del tráfico, al menos a corto plazo (menos de una hora en el futuro), ya que las predicciones a medio y largo plazo son menos precisas y fiables. Esto es a día de hoy un problema difícil de resolver, en el campo de series temporales \cite{ParrasGutierrez2014433}.

Usando un corto plazo la previsión de los sistemas de control de tráfico podría auto-adaptarse continuamente. Por ejemplo, un semáforo podría ajustar su tiempo en rojo o verde, dependiendo de la previsión a corta plazo de las calles cercanas.

Existen muchos trabajos relacionados con la previsión de flujo de tráfico, cada uno de ellos abordando el problema con diferentes modelos, por ejemplo: Teoría de Filtros de Kalman \cite{ASJC:ASJC1051}, modelos de cadenas de Markov \cite{Qi201495}, métodos no paramétricos \cite{Noparametrico2014}, modelos de simulación \cite{simulaciontrafico2012} o enfoques basados en Big-Data \cite{SurveyKumar2007}.

Además, al ser la predicción del flujo de tráfico un tema en tendencia, se pueden encontrar en la literatura varios estudios del estado del arte, como \cite{Survey2004} y \cite{SurveyKumar2007}; siendo el más importante el de Bolshinsky y Friedman \cite{SurveyBolshinsky2012}, ya que los autores además de completar la información de los anteriores añaden un valor añadido a su trabajo, incluyendo las técnicas utilizadas, los datos de entrada para cada contribución, y la arquitectura de hardware utilizado, siempre que el trabajo original los hubiera descrito. También hay estudios específicos, como \cite{Vlahogianni2014}, que presenta una clasificación de los documentos revisados sobre los principales aportes de los trabajos, es decir, técnicas de predicción, sistemas de recolección, o conjuntos de datos, entre otros.

En los últimos años las investigaciones están asimilando nuevas tecnologías para el análisis de datos en este ámbito, tales como Big Data \cite{TrafficFlowPredictionWithBigData2015} o Cloud-Computing \cite{CloudComputing2014}. En la primera, Yisheng et al. tratan el problema previsión de flujo de tráfico utilizando modelos temporales y espaciales al mismo tiempo, usando modelos de predicción simples y montándolos en un sistema global más complejo. Los resultados proporcionan una tiempo y una localización espacial para cada predicción. El segundo trabajo, por Zhaosheng Yang et al., presenta un modelo de predicción del flujo de tráfico de una red de carreteras a gran escala usando técnicas de computación en la nube. Así, implementaron con éxito un Algoritmo Genético (AG) para la optimización de una Máquina de Vector Soporte (Support Vector Machine, SVM) para conseguir una mayor precisión de la predicción y un tiempo de ejecución menor.






Varias publicaciones recientes presentan cuestiones espaciales relacionadas con el ámbito de este tema, tales como \cite{Zhang20141}, que incluye los últimos avances en la investigación en la predicción del tráfico teniendo en cuenta el tiempo y las variables espaciales. Otras obras proponen la predicción de los flujos de tráfico y tiempos de actuación \cite{Dong201420,Zou201433} mediante de patrones espacio-temporales del tráfico congestionado y no congestionado. También existen trabajos con nuevos enfoques en la predicción en tiempo real \cite{Zhang201465} o nuevas propuestas como \cite{Wang201479}, en las que mejora el método de combinación bayesiano (Bayesian combination method, BCM), propuesto por Petridis et al. en 2001, o \cite{Qi201495} que mejora la predicción a corto plazo en autopistas utilizando un modelo de Markov.


En el presente proyecto, se ha llevado a cabo un estudio sobre la previsión del tráfico (en la sección \ref{subsubsec:paquete03}), sin embargo, se han aplicado los métodos clásicos, porque el objetivo es mostrar el valor de los datos recogidos por nuestro sistema en comparación con los datos recogidos por la DGT utilizando detectores de espiras. Por lo tanto, nuestra contribución en esta línea es el uso de Series Temporales de tráfico reales, creadas a partir de los datos extraídos a través de nuestros eventos de tráfico (WiFi y BT detecciones).

Otra línea de estudio en este proyecto ha sido el seguimiento personal o la movilidad de las personas (o geomárketing). Este tipo de movilidad se estudia por muchas razones, entre ellas, los beneficios económicos: la tasa de conversión, la efectividad del marketing o de la planificación del personal son algunas de las más conocidas \cite{stanton1967fundamentals}. La tasa de conversión es el porcentaje de visitantes que efectivamente hacen una compra. Se puede deducir si una mejora en la tienda  se debe a un mayor número de personas que la visitan, o si de los visitantes realmente compran algo. En este ámbito, los profesionales de centros comerciales estudian el comportamiento de las personas con el fin de saber si sus técnicas de marketing están dando sus frutos. En la misma línea, la planificación del personal está directamente relacionada con la cantidad de visitantes, así como el mantenimiento y las necesidades de limpieza, entre otras.


Otras razones son más prácticas que comerciales: ¿Cuántas personas visitan un edificio público? ¿Cuándo? Estos datos pueden ayudar a mejorar la planificación de la prestación de servicios, calefacción o refrigeración del edificio, limpieza de las instalaciones, y los cambios del personal, entre otros. En un museo o un estadio deportivo, se puede ajustar muchos parámetros para ayudar a la gente disfrutar de una mejor experiencia mientras aumentan los beneficios.

La tecnología para el conteo o seguimiento de personas ha evolucionado con el tiempo. A principios se usaron contadores de haces infrarrojos \cite{Hashimoto199850}. Estos dispositivos eran baratos pero propenso a fallos, como cuando dos personas pasan una puerta a la vez. También se ha propuesto el uso de contadores térmicos \cite{635472}, también baratos, pero con serias limitaciones, como la corta distancia desde el dispositivo de recuento de las personas a contar. Las últimas tecnologías utilizan cámaras de vídeo \cite{4107051,Schofield19961421} o detectores WiFi \cite{7134066,7130402} y Bluetooth \cite{6526732,nicolai2007relationship}.




Los dispositivos de vídeo son más caros, así como el software encargado de procesamiento de imágenes, más costoso en términos de consumo de recursos. Sin embargo se pueden realizar otra tareas además del conteo de personas. Por ejemplo, se pueden rastrear sus trayectorias y comportamientos. Las señales de radio son también un gran método para rastrear a las personas, pero más baratos en términos de precio de hardware y coste computacional de los algoritmos. Por otra parte, el rango de detección es más ancho, 100 metros aproximadamente.

Nuestro enfoque se basa en detección WiFi y BT \cite{824570}, pero se ha centrado en los dispositivos personales, de los se puede extraer y almacenar un identificador único (tras anonimizarlo). Esto hace que sea fácil seguir a estas personas en un edificio o una carretera, por ejemplo. Este método tiene la ventaja de un ser más barato que otros sistemas, como los de vídeo, y también ofrece la posibilidad de crear matrices de flujos origen-destino o cualquier otro modelo de movimiento deseado.




La idea de usar los dispositivos personales de BT no es nueva una, si no que ha sido probada por muchos investigadores. En \cite{nicolai2007relationship} Tom Nicolai, como nosotros, utiliza un detector colocado de forma estática para rastrear a las personas. También, en el trabajo de Morrison \cite{morrison2009visualisation} el mismo procedimiento se aplica para seguir la actividad de los espectadores en un estadio. Kostakos utilizó esta misma idea para rastrear a las personas en viajes de autobuses de transporte público \cite{kostakos2008using}.
Un buen punto de partida para aprender sobre el tema es \cite{6526732} ya que presenta la idea adicional de mezclar detectores estacionarios con los dinámicos para estimar la densidad multitud en un estadio de fútbol durante un campeonato.

También la idea de seguimiento de personas con sus dispositivos WiFi personales ha sido explotado anteriormente. A medida que más y más personas lo utilizan cada día se está convirtiendo en uno de los mejores métodos para seguirlos. Esta idea se ha puesto en práctica recientemente por varios autores, por ejemplo: Wei Xi en \cite{6847958} muestra cómo este método puede contar con personas con gran precisión, y Gabe Fierro en \cite{Fierro:2012:ZOC:2422531.2422572} lo utiliza para medir el nivel de ocupación de un edificio sin necesidad de infraestructura adicional.

Sin embargo, al combinar BT y WiFi en este proyecto se busca aumentar la tasa de detección más allá que la mayoría de los investigadores ha logrado. Aparentemente puede parecer redundante, pero la probabilidad de detección es más alta. Se necesita estudiar más profundamente la mejora de las detecciones combinados pero en promedio detectamos un 80 \% de los dispositivos Wi-Fi y un 20 \% de BT. BT es especialmente importante para la detección de los automóviles debido a que es una tecnología incluida en casi todos los coches nuevos. El mismo hecho es cierto para WiFi en los teléfonos inteligentes. 


\subsection{Originalidad y posibilidad de repercusión de los resultados en distintos ámbitos y el impacto de los resultados en la transferencia de tecnología alcanzada o previsible}

Teniendo en cuenta las técnicas, tecnologías y metodologías descritas en la memoria se puede decir que este proyecto ha servido para potenciar la formación y ocupación de los recursos humanos del grupo en actividades de I+D+i, tanto a nivel de coordinación, como de investigación. Esto ha permitido aumentar la calidad de la investigación científica y técnica para alcanzar el máximo nivel de excelencia e impacto.

Por otra parte, permitir detectar comportamiento del tráfico antes de un viaje podrían evitarse atascos, permitiendo una reducción de las emisiones contaminantes a la atmósfera. Consideramos que los resultados de este proyecto pueden suponer una mejora en el dinamismo económico del país y en la sostenibilidad del modelo económico. Al ser un dispositivo de bajo coste puede suponer el aumento de la participación de las PYMES en el sistema de investigación e innovación. 

Finalmente, subvenciones a proyectos como el descrito en esta memoria permiten la mejora de la calidad de la investigación científica en España, potenciar el papel del sistema público de I+D como generador de conocimiento, fomentar la transferencia de los resultados de la investigación financiada con fondos públicos y la adecuación de las actividades de I+D a la demanda del sector productivo.

La existencia de contratos con empresas, como se ha descrito en la sección \ref{subsec:nuevosproyectos}, ha supuesto un incremento en la colaboración entre el sector público y el empresarial y una estimulación para nuevos retos de la sociedad, como la movilidad sostenible.

La participación en eventos de difusión, como los hackathones o la Noche de los Investigadores (ver sección \ref{subsec:otrosmedios}), también suponen un incremento de la cultura científica, tecnológica e innovadora de la sociedad española, así como una mejora de su imagen.


%La concentración e integración de la investigación en la UE	
%La estructuración del espacio europeo en investigación	
%El incremento del tamaño de los proyectos científicos en España	
%Promover un tejido empresarial innovador	
%Realización de investigación en las fronteras del conocimiento


\section{Difusión de los resultados}
\label{sec:difusionresults}
En esta sección se describe la difusión de resultados en distintos medios.

\subsection{Publicaciones en revistas y congresos}

La discusión de los resultados publicados puede consultarse la sección \ref{subsec:publicacionescientificas}, pero se listan a continuación para diferenciarla del resto de publicaciones de la bibliografía:

\begin{itemize}
\item A.~Fern\'andez-Ares, A.~Mora, M.~Arenas, P.~Garc\'ia-Sanchez, G.~Romero,
  V.~Rivas, P.~Castillo, J.~Merelo, Studying real traffic and mobility
  scenarios for a smart city using a new monitoring and tracking system, Future
  Generation Computer Systems En revisi\'on.


\item S.~M. Odeh, A.~M. Garc{\'{\i}}a, M.~N. Moreno, J.~J.~M. Guerv{\'{o}}s,
  A hybrid fuzzy genetic algorithm
  for an adaptive traffic signal system, Adv. Fuzzy Systems 2015 (2015)
  378156:1--378156:11.

\item
P.~Garc{\'i}a-S{\'a}nchez, A.~Fern{\'a}ndez-Ares, P.~Castillo,
  M.~Garc{\'i}a-Arenas, P.~de~las Cuevas, G.~Romero, J.~J. Merelo,
  J.~Gonz{\'a}lez, A.~M. y~Pedro Garc{\'i}a-Fern{\'a}ndez, Arquitectura de bajo
  coste para monitorizaci{\'o}n de veh{\'i}culos y personas usando bluetooth y
  wifi, in: J.~G. P. M.~D. Hermoso (Ed.), Actas de las Jornadas de
  Computaci\'on Emptotrada - JCE2015 23, 24 y 25 de Septiembre de 2015
  C\'ordoba, 2015, pp. 115--122.

\item
D.~Romero, N.~Rico, M.~I. Garcia-Arenas, Modellation and forecast of traffic
  series by a stochastic process, in: O.~Valenzuela, F.~Rojas, H.~Pomares,
  I.~Rojas (Eds.), Proceedings ITISE 2015. International work-conference on
  Time Series, Copicentro Granada S.L, 2015, pp. 797--805.

\item
P.~A. Castillo, A.~Fernandez-Ares, M.~Arenas, P.~Garcia-Sanchez, A.~Mora,
  P.~Garcia-Fernandez, V.~Rivas, Sipesca-competition: a set of real data time
  series benchmark for traffic prediction, in: O.~Valenzuela, F.~Rojas,
  H.~Pomares, I.~Rojas (Eds.), Proceedings ITISE 2015. International
  work-conference on Time Series, Copicentro Granada S.L, 2015, pp. 785--796.

\item
E.~P.-G. V{\'i}ctor M.~Rivas, A.~Fern{\'a}ndez-Ares, P.~A. Castillo,
  P.~Garc{\'i}a-Fern{\'a}ndez, M.~G. Arenas, Predicci{\'o}n a muy corto plazo
  de series temporales de volumen de tr\'afico rodado mediante co-evoluci{\'o}n
  de rnfbr, in: F.~C. de~la O, R.~M.~L. Baena, F.~Luna, F.~F. de~Vega (Eds.),
  Actas del X Congreso Espa{\~n}ol sobre Metaheur{\'i}sticas, Algoritmos
  Evolutivos y Bioinspirados MAEB 2015, Centro Universitario de M{\'e}rida,
  2015, pp. 181--188.

\item
P.~A. Castillo, A.~Fern{\'a}ndez-Ares, M.~G. Arenas, A.~M. Mora,
  P.~Garc{\'i}a-S{\'a}nchez, P.~de~las Cuevas, V.~M. Rivas, Sipesca-b:
  presentando un benchmark de series temporales de datos reales para la
  predicci{\'o}n del tr{\'a}fico, in: F.~C. de~la O Rafael M. Luque Baena
  Francisco Luna Francisco Fern{\'a}ndez~de Vega (Ed.), Actas del X Congreso
  Espa{\~n}ol sobre Metaheur{\'i}sticas, Algoritmos Evolutivos y Bioinspirados
  MAEB 2015, Centro Universitario de M{\'e}rida, 2015, pp. 197--204.

\item
A.~Fern\'andez-Ares, A.~Mora, M.~Arenas, P.~Garc\'ia-Sanchez, G.~Romero,
  V.~Rivas, P.~Castillo, J.~Merelo, Analysis of mobility-based information
  gathered by a novel low-cost monitoring and tracking system, International
  Journal of Conceptual Structures and Smart Applications, Special Issue On:
  Smart Applications in Smart Cities En revisi\'on.
\end{itemize}

\subsection{Otras publicaciones relacionadas con el proyecto}

Durante el desarrollo del proyecto el grupo de investigación ha estado trabajando en otras investigaciones relacionadas con el proyecto. Estos resultados se han discutido en la sección \ref{subsec:otrosresultados}, pero la igual que en la subsección anterior, se listas a continuación para facilitar su consulta:
\begin{itemize}
\item
A.~Fern{\'a}dez-Ares, P.~Garc{\'i}a-S{\'a}nchez, A.~Mora, P.~Castillo,
  Dise{\~n}o de bots competitivos para un juego de estrategia en tiempo real
  usando programaci{\'o}n gen{\'e}tica: an{\'a}lisis de funciones de fitness,
  in: F.~C. de~la O Rafael M. Luque Baena Francisco Luna Francisco
  Fern{\'a}ndez~de Vega (Ed.), Actas del X Congreso Espa{\~n}ol sobre
  Metaheur{\'i}sticas, Algoritmos Evolutivos y Bioinspirados MAEB 2015, Centro
  Universitario de M{\'e}rida, 2015, pp. 47--477.

\item
R.~H. Garc{\'{\i}}a{-}Ortega, P.~Garc{\'{\i}}a{-}S{\'{a}}nchez, J.~J.~M.
  Guerv{\'{o}}s, M.~I.~G. Arenas, P.~A.~C. Valdivieso, A.~M. Mora, How the
  world was {MADE:} parametrization of evolved agent-based models for backstory
  generation, in: A.~M. Mora, G.~Squillero (Eds.), Applications of Evolutionary
  Computation - 18th European Conference, EvoApplications 2015, Copenhagen,
  Denmark, April 8-10, 2015, Proceedings, Vol. 9028 of Lecture Notes in
  Computer Science, Springer, 2015, pp. 443--454.

\item
A.~Fern{\'{a}}ndez{-}Ares, P.~Garc{\'{\i}}a{-}S{\'{a}}nchez, A.~M. Mora,
  P.~A.~C. Valdivieso, J.~J.~M. Guerv{\'{o}}s, M.~I.~G. Arenas, G.~Romero, It's
  time to stop: {A} comparison of termination conditions in the evolution of
  game bots, in: A.~M. Mora, G.~Squillero (Eds.), Applications of Evolutionary
  Computation - 18th European Conference, EvoApplications 2015, Copenhagen,
  Denmark, April 8-10, 2015, Proceedings, Vol. 9028 of Lecture Notes in
  Computer Science, Springer, 2015, pp. 355--368.

\item
A.~Fern{\'{a}}ndez{-}Ares, P.~Garc{\'{\i}}a{-}S{\'{a}}nchez, A.~M. Mora,
  P.~A.~C. Valdivieso, M.~G. Arenas, G.~Romero, An overview on the termination
  conditions in the evolution of game bots, in: D.~Camacho, M.~A.
  G{\'{o}}mez{-}Mart{\'{\i}}n, P.~A. Gonz{\'{a}}lez{-}Calero (Eds.),
  Proceedings 2st Congreso de la Sociedad Espa{\~{n}}ola para las Ciencias del
  Videojuego, Barcelona, Spain, June 24, 2015., Vol. 1394 of {CEUR} Workshop
  Proceedings, CEUR-WS.org, 2015, pp. 186--191.

\item
P.~Garc{\'{\i}}a{-}S{\'{a}}nchez, A.~P. Tonda, A.~M. Mora, G.~Squillero,
  J.~J.~M. Guerv{\'{o}}s, Towards automatic starcraft strategy generation using
  genetic programming, in: 2015 {IEEE} Conference on Computational Intelligence
  and Games, {CIG} 2015, Tainan, Taiwan, August 31 - September 2, 2015, {IEEE},
  2015, pp. 284--291.

\item
P.~Garc{\'i}a-Sánchez, G.~Romero, J.~Gonz{\'a}lez, A.~M. Mora, M.~G. Arenas,
  P.~{\'A}. Castillo, C.~Fernandes, J.~J. Merelo, Studying the effect of
  population size in distributed evolutionary algorithms on heterogeneous
  clusters, Applied Soft Computing 38 (2016) 530 -- 547.


\item
J.~J.~M. Guerv{\'{o}}s, P.~Garc{\'{\i}}a{-}S{\'{a}}nchez,
Designing and modeling a
  browser-based distributed evolutionary computation system, in: J.~L.~J.
  Laredo, S.~Silva, A.~I. Esparcia{-}Alc{\'{a}}zar (Eds.), Genetic and
  Evolutionary Computation Conference, {GECCO} 2015, Madrid, Spain, July 11-15,
  2015, Companion Material Proceedings, {ACM}, 2015, pp. 1117--1124.


\item
N.~Rico, M.~G. Arenas, D.~Romero, J.~M. Crespo, P.~A. Castillo, J.~J.~M.
  Guerv{\'{o}}s, Comparing
  optimization methods, in continuous space, for modelling with a diffusion
  process, in: I.~Rojas, G.~J. Caparr{\'{o}}s, A.~Catal{\`{a}} (Eds.),
  Advances in Computational Intelligence - 13th International Work-Conference
  on Artificial Neural Networks, {IWANN} 2015, Palma de Mallorca, Spain, June
  10-12, 2015. Proceedings, Part {II}, Vol. 9095 of Lecture Notes in Computer
  Science, Springer, 2015, pp. 380--390.

\item
P.~de~las Cuevas, A.~Mora, J.~Merelo, P.~Castillo, P.~Garc{\'i}a-S{\'a}nchez,
  A.~Fern{\'a}ndez-Ares,
Corporate
  security solutions for byod: A novel user-centric and self-adaptive system,
  Computer Communications 68 (2015) 83 -- 95, security and Privacy in Unified
  Communications: Challenges and Solutions.
\end{itemize}

\subsection{Otros medios de difusión}
\label{subsec:otrosmedios}

Además de las publicaciones científicas, se ha participado en distintas actividades para la difusión de los resultaos del proyecto.

Dentro del congreso International Work-Conference on Time Series Analysis, ITISE 2015, el personal investigador de este proyecto ha organizado una sesión especial relacionada con el la predicción del flujo de tráfico real. Concretamente, la descripción de la sesión especial puede verse en la web del congreso \footnote{\url{http://itise.ugr.es/sessions_proposals.php}} en el apartado SS6 y la descripción de la sesión especial está en la web que anuncia la sesión \footnote{\url{http://itise.ugr.es/pdf/ProposalSpecialSession.pdf}}.

Esta sesión especial se ha presentado como un reto a los asistentes al congreso. Los datos utilizados para dicho reto están en la web del grupo \footnote{\url{http://geneura.ugr.es/timeseries/}} y el reto consistía en realizar una predicción de dichas series cometiendo el menor error posible utilizando métodos de predicción tanto heurísticos como estadísticos.

Además, dentro de este proyecto se ha participado en la organización de dos hackathones relacionados con la predicción del estado del tráfico y datos abiertos: Open Data Day (celebrado en Granada) y  Hackathon Fujitsu-UGR (celebrado en Málaga). Los resultados de los hackathones fueron un estudio preliminar del estado del arte en artículos de predicción del tráfico y desarrollo de programas que extraen estado de la predicción del tráfico a partir de distintas fuentes.


El grupo ha participado también en distintas actividades de divulgación científica, como la ``Noche de los investigadores'', donde se presentó el proyecto dentro de la actividad ``El Ojo que todo lo ve'' \footnote{\url{https://lanochedelosinvestigadores.fundaciondescubre.es/actividades/nanociencia-y-nanotecnologia-2/}}.





El día 26 de noviembre de 2015 se celebró en la sala de usos múltiples del
CITIC de la Universidad de Granada la ``Jornada de Smart Cities y Movilidad'' a la que 
asistieron 30 personas\footnote{\url{https://geneura.wordpress.com/2015/12/03/jornada-sobre-smart-cities-y-movilidad/}}.

Los objetivos finales fueron crear sinergia entre los diversos grupos de investigación y 
empresas en el área de la gestión de la movilidad, internet de las cosas y smart cities, así 
como facilitar el contacto de cara a promover colaboraciones, tales como solicitar 
proyectos, o realizar transferencia de conocimiento a partir de los resultados de 
investigación.

H2020 Face2Face en el ICT Proposers Day 2015, organizado por ICT Proposers
Day (ICT 2015 - Innovate, Connect, Transform) y la Red EEN (Lisboa, Portugal).

Finalmente, todas las noticias de este proyecto se han publicado en el blog del mismo: \url{https://proyectopetra.wordpress.com/}.

\section{Conclusiones}
\label{sec:conclusions}

En esta memoria se presenta el proyecto PETRA (Predicción del Estado del Tráfico usando un sistema de monitorización de bajo coste), con código SPIP2014-1437, dentro del programa financiador de Ayudas a la I+D+i en materia de tráfico, movilidad y seguridad vial 2014 y financiado por la Dirección General de Tráfico, Ministerio del Interior.

Se ha descrito un nuevo sistema de monitorización y seguimiento que almacena datos de movilidad de personas y vehículos. Se han presentado algunas de sus aplicaciones, utilizando los datos reales capturados por el sistema para tratar con distintos problemas relacionados con la movilidad. Se han estudiado dos escenarios:


\begin{itemize}
	\item Un edificio público de la Universidad de Granada, en el que los movimientos de estudiantes, profesores y personal han sido analizados usando matrices de origen/destino para un estudio de la seguridad, mejora de accesos y (posiblemente) marketing. Esta fue la primera prueba de concepto del sistema.
    \item Una carretera interurbana, donde se ha estudiado el flujo del tráfico y se ha contrastado con datos reales proporcionados por la DGT, utilizando métodos estadísticos para estimar el número real de vehículos. Se han utilizado técnicas de predicción con buenos resultados a corto plazo. La predicción se ha realizado con datos de tráfico reales y capturados por el sistema, ajustados con la relación entre vehículos detectados y reales. Además, se ha calculado una matriz para mostrar el tiempo medio de duración entre nodos.
  
\end{itemize}

El objetivo de este proyecto ha sido demostrar que los resultados de estos dos estudios pueden ser la base para resolver distintos problemas de movilidad, así como probar el valor y confiabilidad del sistema presentado.

A partir estos resultados se han podido abrir nuevas líneas de investigación. Por ejemplo, se continuará trabajando con nuevos datos capturados, utilizando otras técnicas, lo cual mejorará la calidad de los resultados. Además, podemos aplicar todos los métodos del estado del arte para distintos problemas, como la predicción del tráfico, utilizando datos reales, y ofreciendo estos datos como {\em benchmarks} a disposición de la comunidad científica.

Además, otro tipo de problemas pueden tratarse con este sistema, por ejemplo, analizando la movilidad en la ciudad o en la carretera, para mejorar servicios existentes (por ejemplo, turísticos), realizar análisis de geomárketing \cite{Flyers-GeoMarketing,LaMarca-GeoMarketing}, incrementar mecanismos de seguridad, o mejorar el sistema de transporte público. Esto requerirá la colocación de más dispositivos, para construir mejores grafos de movilidad, matrices de origen y destino y otros modelos. 

El sistema aún tiene algunas pegas o puntos débiles que pueden mejorarse, como evitar el solapamiento entre direcciones en dos diferentes nodos (utilizando antenas unidireccionales o algún tipo de filtro). Otro punto de mejora puede ser el uso de técnicas de predicción de series temporales para completar `agujeros' en los eventos detectados, por ejemplo, cuando un dispositivo se desconecta.

Al cierre de esta memoria los dispositivos colocados siguen recolectando datos, y está abierta la posibilidad de colocar más dispositivos en otras localizaciones sugeridas por la DGT, por lo que se espera continuar trabajando en este proyecto, aún habiéndose cerrado económicamente, por lo que es de esperar que surjan más colaboraciones y publicaciones relacionadas.

Este proyecto además, ha proporcionado la posibilidad de nuevas líneas de investigación, como el geomárketing, obteniendo resultados de utilidad a la hora de medir la movilidad de las personas.

Finalmente, este proyecto ha supuesto un avance otros ámbitos fuera del científico, ya que también ha permitido la ampliación de la red de socios internacionales del grupo de investigación, así como la ampliación de proyectos y colaboraciones empresariales, facilitando un tejido empresarial innovador.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  ACKNOWLEDGEMENTS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Agradecimientos}

Queremos agradecer personalmente al personal de la DGT Pedro Tomás Martínez y Ramón González (Sede de la DGT), y Alberto Serrano, Silvia Cabo, Rafael Castro y Adolfo Santos (Centro de Gestión del Tráfico del Sureste). También a los miembros de la UTE-ACISA, Jose Antonio Arrese, Javier Segovia, Jesús Rodríguez, y especialmente a Miguel Ángel León y a Miguel Cervilla, ya que sin su colaboración este proyecto no podría haber sido llevado a cabo.


\bibliographystyle{elsarticle-num}
\bibliography{memoria-final,mobility}

\end{document}
